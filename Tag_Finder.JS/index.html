<!doctype html>
<meta charset="utf-8">
<html lang="us">
<head>
<title>Tag</title>

<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<script type="text/javascript" >

// Selects the tags to be searched for from the input

function select(){

        var total= new Array();
        total[0]="";
        total[1]=="";

        for(var i=0;i<document.forms[0].length;i++){
                if(document.forms[0][i].checked){
                        total[0]=document.forms[0][i].value+"\n";
                }
        }

        for(var i=0;i<document.forms[1].length;i++){
                if(document.forms[1][i].checked){
                        total.push(document.forms[1][i].value);
                }
        }
        if(total[0]=="" || total[1]==""){
        		alert("Please leave nothing blank");
        }else{
        parseDocument(total);
        }

}

// function to find XMLHttp request according to browser

function getXMLHttp(){
  var xmlHttp;
   try{
     //Firefox, Opera 8.0+, Safari
     xmlHttp = new XMLHttpRequest();
   } catch(e){
     //Internet Explorer
     try {
       xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
     } catch(e){
       try {
         xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
       } catch(e){
         alert("Your browser does not support AJAX")
         return false;
       }
     }
   }
   return xmlHttp;
}

function parseDocument(total){

        xmlhttp=getXMLHttp();

		var surl="tag_finder.php";
        var am = total[0];
        var lf = total[1];

        if(total.length>2){
                // create more vars
        }


        $(function()
			{ $.ajax({
				url:surl,
				data:"q="+am+"&r="+lf,
				dataType:'json',
				success:

				function(data)
					{
					var a = data[0];
					for(var i = 0; i<data.length;i++){
					$('#output').html("<p>"+data[i]+"<p>");
					}
					}
				})


});


         //xmlhttp.open("GET","tag_finder.php?q="+am +'&r='+lf,true);
         //xmlhttp.send();



}


</script>
</head>
<body>
<div> I am a...</div>
<form id="iAm">
<input type="radio" name="IAM" value="a"> a <br>
<input type="radio" name="IAM" value="b"> b <br>
<input type="radio" name="IAM" value="c"> c <br>
</form>
<div> Looking for... </div>
<form id="lookFor">
<input type="checkbox" name="IAMA1" value="1"> 1 <br>
<input type="checkbox" name="IAMA2" value="2"> 2 <br>
<input type="checkbox" name="IAMA3" value="3"> 3 <br>
</form>
  <div id="output">this element will be accessed by jquery and this text replaced</div>
<tr ><td align=center >
<button value=Submit onclick="select()">Submit</button><br/>

</td></tr>

</body>
</html>
